<!DOCTYPE html>
<html lang="es">

<!-- Last Deploy Trigger: UI Fixes v2 -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taskly | Tu Asistente Inteligente</title>
    <!-- Modern Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/mobile.css">
</head>

<body>
    <!-- Debug Console (Hidden by default, visible on error or via secret) -->
    <div id="debug-console"
        style="display:none; position:fixed; bottom:0; left:0; right:0; max-height:200px; background:rgba(0,0,0,0.9); color:#00ff00; font-family:monospace; font-size:10px; padding:10px; z-index:99999; overflow-y:auto; pointer-events:none;">
        <strong>Taskly Debug:</strong>
        <div id="debug-log"></div>
    </div>

    <div class="container">
        <header class="app-header">
            <div class="logo-area">
                <h1>Taskly<span>asistente</span></h1>
                <p class="fecha-hoy" id="fechaActual"></p>
            </div>
            <div class="user-info">
                <span id="userEmail"></span>
                <button onclick="logout()" class="btn-logout" title="Cerrar sesiÃ³n">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9" />
                    </svg>
                </button>
            </div>
            <div class="header-stats" id="headerStats">
                <!-- Stats flow here -->
            </div>

        </header>

        <section class="command-center" aria-label="Agregar nueva tarea">
            <div class="input-main-group">
                <input type="text" id="nuevaTarea" placeholder="Â¿QuÃ© vamos a lograr hoy?" maxlength="100">
                <button id="btnVoz" onclick="iniciarReconocimientoVoz()" title="Dictar tarea">ğŸ¤</button>
            </div>

            <div class="input-details-group">
                <div class="detail-item">
                    <label for="fechaTarea">CuÃ¡ndo</label>
                    <input type="date" id="fechaTarea">
                </div>
                <div class="detail-item">
                    <label for="horaTarea">Hora</label>
                    <input type="time" id="horaTarea">
                </div>
                <div class="detail-item">
                    <label for="prioridadTarea">Prioridad</label>
                    <select id="prioridadTarea">
                        <option value="BAJA">Baja</option>
                        <option value="MEDIA" selected>Media</option>
                        <option value="ALTA">Alta</option>
                    </select>
                </div>
                <button class="btn-primary" onclick="agregarTarea()">
                    <span>â•</span> Agregar
                </button>
            </div>
        </section>

        <nav class="filters-nav" aria-label="Filtrar tareas">
            <button class="filtro-btn active" onclick="filtrarTareas('TODAS')">Todas</button>
            <button class="filtro-btn" onclick="filtrarTareas('PENDIENTES')">Pendientes</button>
            <button class="filtro-btn" onclick="filtrarTareas('COMPLETADAS')">Completadas</button>
        </nav>

        <div class="estadisticas">
            <span id="contadorTareas">Total: 0 | Pendientes: 0 | Completadas: 0</span>
        </div>

        <div class="lista-tareas" id="listaTareas">
            <!-- Las tareas se cargan aquÃ­ dinÃ¡micamente -->
        </div>

        <div class="sin-tareas" id="sinTareas" style="display: none;">
            <p>ğŸ‰ Â¡No hay tareas pendientes para hoy!</p>
        </div>

        <footer class="main-footer">
            <p>Â© 2026 jomar71 â€¢ <a href="mailto:jomar71.dev@gmail.com">jomar71.dev@gmail.com</a></p>
        </footer>
    </div>


    <script type="module" src="js/app.js"></script>
</body>

</html>